<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>자동완성기능</title>
	<link type="text/css" rel="stylesheet" href="search.css" />
	<script type="text/javascript" src="search.js"></script>
</head>
<body>
<!--
	온키업시 ajax를 호출해서
	관련된 데이터를 서버에서 받아 와서
	레이어에 노출시켜주고
	검색어를 사용자가 선택시
	input 박스에 삽입 시켜주는게
-->
<!--https://jqueryui.com/autocomplete/  https://jqueryui.com/resources/demos/autocomplete/default.html-->
<!--https://jsfiddle.net/E7MSN/118/-->
<!--https://keycode.info/-->
<div class="article">
	<div class="auto_search_box">
		<label class="auto_input"><input type="text" id="auto_input"></label>
		<ul class="auto_search_con" tabindex="0">
			<li tabindex="-1">ActionScript</li>
			<li tabindex="-1">ActionScript1</li>
			<li tabindex="-1">ActionScript2</li>
			<li tabindex="-1">ActionScript3</li>
			<li tabindex="-1">ActionScript4</li>
			<li tabindex="-1">ActionScript5</li>
			<li tabindex="-1">ActionScript6</li>
			<li tabindex="-1">ActionScript7</li>
			<li tabindex="-1">ActionScript8</li>
			<li tabindex="-1">ActionScript9</li>
		</ul>
	</div>
	
	<script>
		var Search_box = new Search('#auto_input','.auto_search_con');
		Search_box.init();
		
		//자동완성 레이어
		/*var el = document.querySelector('.auto_search_con').getElementsByTagName("li");
		var currentIndex = 0;*/
		
		/*//li 리스트
		for(var i=0 ; i<el.length; i++){
			el[i].addEventListener("click", function () {
				document.querySelector('#auto_input').value = this.innerText;
				document.querySelector('.auto_search_con').classList.remove('on');
			});
			el[i].addEventListener("keyup", function () {
				if(event.keyCode === 40){ //아래
					if(currentIndex < el.length-1){
						currentIndex = currentIndex + 1;
						el[currentIndex].focus();
						document.querySelector('#auto_input').value = el[currentIndex].innerText;
					}else{
						document.querySelector('#auto_input').focus();
						document.querySelector('#auto_input').value = inputTxt;
						currentIndex = 0;
					}
				}else if(event.keyCode === 38) { //위
					if(currentIndex > 0){
						currentIndex = currentIndex - 1;
						el[currentIndex].focus();
						document.querySelector('#auto_input').value =  el[currentIndex].innerText;
					}else{ //첫번째
						document.querySelector('#auto_input').focus();
						document.querySelector('#auto_input').value = inputTxt;//원래 문자
					}
				}else if(event.keyCode === 13){ //엔터
					document.querySelector('.auto_search_con').classList.remove('on');
					document.querySelector('#auto_input').focus();
					document.querySelector('#auto_input').value = el[currentIndex].innerText;
					currentIndex = 0;
				}
			});
		}*/
		
		//input박스에 단어 입력
		/*var inputTxt; //input유저가 입력하는 값
		document.querySelector('#auto_input').addEventListener("keyup", function () {
			if(document.querySelector('.auto_search_con').className !== "on"){ //레이어열림
				document.querySelector('.auto_search_con').classList.add('on');
			}
			//방향키 위아래
			if(event.keyCode === 40){ //아래
				document.querySelector('#auto_input').value = el[0].innerText;
				el[0].focus();
			}else if((64 < event.keyCode && event.keyCode < 91)){ //영문 + 국문 // ****국문해야함 모르겠음
				inputTxt = document.querySelector('#auto_input').value;
			}
		});*/
	</script>
</div>
</body>
</html>